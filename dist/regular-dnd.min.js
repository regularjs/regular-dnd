!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Regular")):"function"==typeof define&&define.amd?define(["Regular"],t):"object"==typeof exports?exports.ReDnd=t(require("Regular")):e.ReDnd=t(e.Regular)}(this,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var d=o[n]={exports:{},id:n,loaded:!1};return e[n].call(d.exports,d,d.exports,t),d.loaded=!0,d.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d=o(1),r=n(d),a=o(4),i=n(a),l=o(5),f=n(l),u=o(2),s=n(u);t["default"]={Dragable:i["default"],Dropable:f["default"],manager:r["default"],util:s["default"]},e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){m.drag=e,m.startAt=t,s["default"].once(document,"mouseup",f),h.on(document,"mousemove",l),m.moved=!1}function r(e,t){g[e]=t}function a(e){delete g[e]}function i(e,t){var o=m.drag,n=o.data.target||[];for(var d in g){var r=g[d];if(-1!==n.indexOf(r.data.name)){var a=r.offset=s["default"].getDimension(r.node),i=a.left<e&&e<a.width+a.left&&a.top<t&&t<a.height+a.top;if(m.drop!==r){if(i)return r.$emit("dragenter",{drag:o,drop:r}),m.drop&&m.drop.$emit("dragleave",{drag:o,drop:r}),void(m.drop=r)}else i||(r.$emit("dragleave",{drag:o,drop:r}),m.drop=null)}}}function l(e){if(m.drag){e.preventDefault();var t=m.drag.placeholder,o=m.startAt,n=m.drag,d=n.data;if(m.moved||(d.placeholder!==!1&&(t=n.placeholder=n.getPlaceholder(n.node,n.data),t&&(t.style.display="none",t.style.zIndex=1e3,h.inject(t,document.body))),m.drag.$emit("dragstart",o),m.moved=!0),window.getSelection?window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty(),t){var r=t.style;r.position="absolute",r.display="",r.left=e.pageX-o.left+"px",r.top=e.pageY-o.top+"px"}m.testDrop(e.pageX,e.pageY);var a=m.drop;m.drag.$emit("dragmove",{drag:n,drop:a,position:{left:e.pageX,top:e.pageY}}),a&&a.$emit("dragmove",{drop:a,drag:n,position:{left:e.pageX-a.offset.left,top:e.pageY-a.offset.top}})}}function f(e){var t=m.drag;if(h.off(document,"mousemove",l),m.moved&&t){var o=m.drop;t.$emit("dragend",{drop:o,drag:t,position:{left:e.pageX,top:e.pageY}}),o&&o.$emit("dragdrop",{drag:t,drop:o,position:{left:e.pageX-o.offset.left,top:e.pageY-o.offset.top}}),m.drop=null,m.drag=null}}Object.defineProperty(t,"__esModule",{value:!0});var u=o(2),s=n(u),p=o(3),c=n(p),g={},h=c["default"].dom,m={drops:g,addDrop:r,delDrop:a,testDrop:i,bindDrag:d,onmousemove:l,onmouseup:f};t["default"]=m,e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function d(e){var t=e&&e.ownerDocument,o=t.documentElement,n=t.body,d=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},r=o.clientTop||n.clientTop||0,a=o.clientLeft||n.clientLeft||0,i=g.pageYOffset||o.scrollTop,l=g.pageXOffset||o.scrollLeft;return{top:d.top+i-r,left:d.left+l-a}}function r(e){var t=e.offsetWidth,o=e.offsetHeight;return{width:t,height:o}}function a(e){return h(r(e),d(e))}function i(e,t){if(!e)return-1;for(var o=0,n=e.length;n>o;o++)if(e[o]===t)return e.splice(o,1),o;return-1}function l(e,t,o){function n(){o.apply(this,arguments),m.off(e,t,n)}m.on(e,t,n)}function f(e,t){return e&&t?e.left>t.left&&e.left<t.left+t.width&&e.top>t.top&&e.top<t.top+t.height:!1}function u(e,t){for(var o=t.length;o--;){var n=t[o];if(f(e,n))return{index:o,dimension:{width:n.width,height:n.height,left:e.left-n.left,top:e.top-n.top}}}}function s(){}Object.defineProperty(t,"__esModule",{value:!0});var p=o(3),c=n(p),g=window,h=c["default"].util.extend,m=c["default"].dom;t["default"]={getPosition:d,getOffset:r,getDimension:a,isInRect:f,getInRanges:u,getDirection:s,remove:i,extend:h,once:l},e.exports=t["default"]},function(t,o){t.exports=e},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d=o(1),r=n(d),a=o(3),i=n(a),l=o(5),f=n(l),u=o(2),s=n(u),p=i["default"].dom,c=i["default"].extend({name:"dragable",template:"{#include this.$body}",config:function(e){var t=this.$outer;t instanceof f["default"]&&(this.drop=t,t.$emit("add_drag",this))},init:function(){var e=this.data,t=this.node=p.element(this);p.addClass(t,"dragable");this.$on("dragend",function(){this.placeholder&&(p.remove(this.placeholder),this.placeholder=null)});var o=this.handle=e.handle&&t.querySelector(e.handle)||t;p.on(o,"mousedown",function(e){if(1===e.which){var o=s["default"].getPosition(t);r["default"].bindDrag(this,{left:e.pageX-o.left,top:e.pageY-o.top})}}.bind(this))},getPlaceholder:function(e,t){return e.cloneNode(!0)}});f["default"].Handler=i["default"].extend({template:"{#inc this.$body}",config:function(){this.$outer instanceof f["default"]&&(this.$outer.data.header=this)}}),t["default"]=c,e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d=o(1),r=n(d),a=o(3),i=n(a),l=o(2),f=(n(l),i["default"].extend({name:"dropable",template:"\n  <div class='{klass} dropable'>{#inc this.$body}</div>\n  ",config:function(e){r["default"].addDrop(e.name,this)},init:function(e){this.node=i["default"].dom.element(this)},destroy:function(){r["default"].delDrop(this.data.name,this),this.supr()}}));t["default"]=f,e.exports=t["default"]}])});