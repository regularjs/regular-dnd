!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("regularjs")):"function"==typeof define&&define.amd?define(["regularjs"],t):"object"==typeof exports?exports.ReDnd=t(require("regularjs")):e.ReDnd=t(e.regularjs)}(this,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),d=o(4),i=n(d),u=o(5),l=n(u),f=o(2),s=n(f);t["default"]={Dragable:i["default"],Dropable:l["default"],manager:a["default"],util:s["default"]},e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){y.drag=e,y.startAt=t,p["default"].supportTouch?(v=setTimeout(function(){v=null,m.on(document,p["default"].MOUSE_MOVE,l),p["default"].once(document,p["default"].MOUSE_UP,f)},100),p["default"].once(document,p["default"].MOUSE_MOVE,function(e){v&&clearTimeout(v),v=null}),p["default"].once(document,p["default"].MOUSE_UP,function(e){v&&clearTimeout(v),v=null})):(m.on(document,p["default"].MOUSE_MOVE,l),p["default"].once(document,p["default"].MOUSE_UP,f)),y.moved=!1}function a(e,t){h[e]=t}function d(e){delete h[e]}function i(e,t){var o=[];for(var n in t){var r=t[n];e.validate(r.data.name)&&o.push(r)}return o}function u(e,t){var o=y.drag;for(var n in h){var r=h[n];if(o.validate(r.data.name)){var a=r.offset=p["default"].getDimension(r.node),d=a.left<e&&e<a.width+a.left&&a.top<t&&t<a.height+a.top;if(y.drop!==r){if(d)return r.$emit("dragenter",{drag:o,drop:r}),y.drop&&y.drop.$emit("dragleave",{drag:o,drop:r}),void(y.drop=r)}else d||(r.$emit("dragleave",{drag:o,drop:r}),y.drop=null)}}}function l(e){if(!(+new Date-v)||y.drag){e.stopPropagation(),e.preventDefault();var t=y.drag.placeholder;/touch/.test(e.type)&&(e=e.event.touches[0]);var o=y.startAt,n=y.drag,r=n.data;if(!y.moved){if(e.pageX===o.left&&e.pageY===o.top)return;r.placeholder!==!1&&(t=n.placeholder=n.getPlaceholder(n.node,n.data),t&&(t.style.display="none",t.style.zIndex=1e3,m.inject(t,document.body))),y.drag.$emit("dragstart",{position:o});var a=i(n,h);return y.$emit("active",{drag:n,drops:a}),a.forEach(function(e){e.$emit("active",{drag:n,drop:e})}),y.moved=!0,y.testDrop(e.pageX,e.pageY),!0}if(window.getSelection?window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty(),t){var d=t.style;d.position="absolute",d.display="",d.left=e.pageX-o.left+o.origin.left+"px",d.top=e.pageY-o.top+o.origin.top+"px"}y.testDrop(e.pageX,e.pageY);var u=y.drop;return y.drag.$emit("dragmove",{drag:n,drop:u,position:{left:e.pageX,top:e.pageY},origin:o.origin}),u&&u.$emit("dragmove",{drop:u,drag:n,position:{left:e.pageX-u.offset.left,top:e.pageY-u.offset.top}}),!0}}function f(e){var t=y.drag,o=y.startAt;if(/touch/.test(e.type)&&(e=e.event.changedTouches[0]),m.off(document,p["default"].MOUSE_MOVE,l),e.stopPropagation(),y.moved&&(e.pageX!==o.left||e.pageY!==o.top)&&t){var n=y.drop;t.$emit("dragend",{drop:n,drag:t,position:{left:e.pageX,top:e.pageY},origin:o.origin}),n&&n.$emit("dragdrop",{drag:t,drop:n,position:{left:e.pageX-n.offset.left,top:e.pageY-n.offset.top}}),y.$emit("dragend",{drag:y.drag,drop:y.drop}),y.drop=null,y.drag=null}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(2),p=n(s),c=o(3),g=n(c),h={},m=g["default"].dom,v=null,_=g["default"].extend({drops:h,addDrop:a,delDrop:d,testDrop:u,bindDrag:r,onmousemove:l,onmouseup:f}),y=new _;t["default"]=y,e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e&&e.ownerDocument,o=t.documentElement,n=t.body,r=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},a=o.clientTop||n.clientTop||0,d=o.clientLeft||n.clientLeft||0,i=g.pageYOffset||o.scrollTop,u=g.pageXOffset||o.scrollLeft;return{top:r.top+i-a,left:r.left+u-d}}function a(e){var t=e.offsetWidth,o=e.offsetHeight;return{width:t,height:o}}function d(e){return h(a(e),r(e))}function i(e,t){if(!e)return-1;for(var o=0,n=e.length;n>o;o++)if(e[o]===t)return e.splice(o,1),o;return-1}function u(e,t,o){function n(){o.apply(this,arguments),m.off(e,t,n)}m.on(e,t,n)}function l(e,t){return e&&t?e.left>t.left&&e.left<t.left+t.width&&e.top>t.top&&e.top<t.top+t.height:!1}function f(e,t){for(var o=t.length;o--;){var n=t[o];if(l(e,n))return{index:o,dimension:{width:n.width,height:n.height,left:e.left-n.left,top:e.top-n.top}}}}function s(){}Object.defineProperty(t,"__esModule",{value:!0});var p=o(3),c=n(p),g=window,h=c["default"].util.extend,m=c["default"].dom,v="ontouchstart"in document&&!("onmousedown"in document),_=v?"touchstart":"mousedown",y=v?"touchmove":"mousemove",x=v?"touchend":"mouseup";t["default"]={getPosition:r,getOffset:a,getDimension:d,isInRect:l,getInRanges:f,getDirection:s,remove:i,extend:h,MOUSE_UP:x,MOUSE_MOVE:y,MOUSE_DOWN:_,supportTouch:v,once:u},e.exports=t["default"]},function(t,o){t.exports=e},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),d=o(3),i=n(d),u=o(5),l=n(u),f=o(2),s=n(f),p={}.toString,c=i["default"].dom,g=i["default"].extend({name:"dragable",template:"{#include this.$body}",config:function(e){var t=this.$outer,o=e.target;"[object RegExp]"===p.call(o)?this._validateTarget=function(e){return o.test(e)}:Array.isArray(o)?this._validateTarget=function(e){return-1!==o.indexOf(e)}:"function"==typeof o&&(this._validateTarget=function(e){return!!o(e)}),t instanceof l["default"]&&(this.drop=t,t.$emit("add_drag",this))},init:function(){var e=this.data,t=this.node=c.element(this);c.addClass(t,"dragable");this.$on("dragend",function(){this.placeholder&&(c.remove(this.placeholder),this.placeholder=null)});var o=this.handle=e.handle&&t.querySelector(e.handle)||t,n=function(e){var o=/touch/.test(e.type);if(o)e=e.event.touches[0];else if(1!==e.which)return;e.stopPropagation();var n=s["default"].getPosition(t);a["default"].bindDrag(this,{left:e.pageX,top:e.pageY,origin:n})}.bind(this);this.data.disabled||c.on(o,s["default"].MOUSE_DOWN,n)},_validateTarget:function(){return!1},validate:function(e){return this._validateTarget(e)},getPlaceholder:function(e,t){return e.cloneNode(!0)}});l["default"].Handler=i["default"].extend({template:"{#inc this.$body}",config:function(){this.$outer instanceof l["default"]&&(this.$outer.data.header=this)}}),t["default"]=g,e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),d=o(3),i=n(d),u=o(2),l=(n(u),i["default"].extend({name:"dropable",template:"\n  <div class='{klass} dropable'>{#inc this.$body}</div>\n  ",config:function(e){a["default"].addDrop(e.name,this)},init:function(e){this.node=i["default"].dom.element(this)},destroy:function(){a["default"].delDrop(this.data.name,this),this.supr()}}));t["default"]=l,e.exports=t["default"]}])});